<div class="cart-header-bar">
  <div class="header-content">
    
    <div class="header-left">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg>
      <span>Minhas Compras</span>
    </div>

    <a routerLink="/" class="btn-home">
      Continuar Comprando
    </a>

  </div>
</div>

<div class="main-container">

  <div *ngIf="quantidade === 0" class="empty-msg">
    <p>Seu carrinho está vazio.</p>
    <a routerLink="/" class="btn-pink-solid small">Voltar às compras</a>
  </div>

  <div *ngIf="quantidade > 0">
    
    <div class="product-card-pink">
      <div class="prod-img">
        <img src="assets/barbie-placeholder.jpg" alt="Produto">
      </div>
      
      <div class="prod-name">
        <h3>Nome do Produto</h3>
      </div>

      <div class="qty-controls-pink">
          <button (click)="diminuirQuantidade()">−</button>
          <input type="text" [value]="quantidade" readonly>
          <button (click)="aumentarQuantidade()">+</button>
      </div>

      <div class="prod-price">
        <strong>{{ precoUnitario | currency:'BRL' }}</strong>
      </div>

      <button class="btn-trash" (click)="removerProduto()" title="Remover item">
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg>
      </button>
    </div>

    <div class="subtotal-row">
      <span>Subtotal (sem frete) :</span>
      <strong>{{ subtotal | currency:'BRL' }}</strong>
    </div>

    <div class="shipping-block">
      <h4>CALCULE O FRETE</h4>
      <div class="shipping-inputs">
        <input type="text" class="input-pink" placeholder="" [(ngModel)]="cepInput" maxlength="9">
        <button class="btn-pink-solid small" (click)="calcularFrete()">Calcular</button>
      </div>
      
      <a href="#" class="dont-know-cep">Não sei meu CEP</a>
      
      <p *ngIf="frete > 0" class="freight-value">
        Frete: {{ frete | currency:'BRL' }}
      </p>
    </div>

    <div class="total-section">
      <div class="total-row main-total">
        <span>Total:</span>
        <span>{{ total | currency:'BRL' }}</span>
      </div>
      
      <p class="installments-pink">
        Ou até 3x de {{ valorParcela | currency:'BRL' }} sem juros
      </p>
      
      <button class="btn-pink-solid large" (click)="finalizarCompra()">
        Finalizar Compra
      </button>
      
      <a routerLink="/" class="link-see-more">Ver Mais Produtos</a>
    </div>

  </div>
</div>